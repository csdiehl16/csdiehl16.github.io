import"./ViewTransitions.astro_astro_type_script_index_0_lang.C9K5sHun.js";window.dataLayer=window.dataLayer||[];function Y(){dataLayer.push(arguments)}Y("js",new Date);Y("config","G-NMTRKRDQZV");localStorage.theme==="dark"&&document.documentElement.classList.add("dark");(function(u,o,y,r,l){u[r]=u[r]||[],u[r].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var w=o.getElementsByTagName(y)[0],b=o.createElement(y),x="";b.async=!0,b.src="https://www.googletagmanager.com/gtm.js?id="+l+x,w.parentNode.insertBefore(b,w)})(window,document,"script","dataLayer","GTM-WZ9H8GJP");function N(){console.log("canvas initializing");const u=document.getElementById("profileCanvas");if(!u)return;const o=u.getContext("2d");if(!o)return;function y(){if(!u||!o)return;const t=u.getBoundingClientRect(),i=window.devicePixelRatio||1;u.width=t.width*i,u.height=t.height*i,u.style.width=t.width+"px",u.style.height=t.height+"px",o.scale(i,i)}y(),window.addEventListener("resize",y);const r=u.offsetWidth,l=u.offsetHeight;let w=[],b=0,x=!1,T;const P=[I,q,S,z,F];function I(){const t=[],i=r/2,e=l/2,d=Math.min(r,l)*.4,h=1200+Math.random()*800,a=5+Math.random()*3;for(let n=0;n<h;n++){const s=n/h,c=s*Math.PI*a,m=s*d,M=(Math.random()-.5)*25,f=i+Math.cos(c)*m+M,g=e+Math.sin(c)*m+M;f>15&&f<r-15&&g>15&&g<l-15&&t.push([f,g])}return t}function q(){const t=[],i=1e3+Math.random()*600,e=4+Math.floor(Math.random()*3),d=Math.floor(i/e);for(let h=0;h<e;h++){const a=120+Math.random()*(r-240),n=120+Math.random()*(l-240),s=70+Math.random()*90;for(let c=0;c<d;c++){const m=Math.random()*Math.PI*2,M=Math.random()*s,f=a+Math.cos(m)*M,g=n+Math.sin(m)*M;f>15&&f<r-15&&g>15&&g<l-15&&t.push([f,g])}}return t}function S(){const t=[],i=800+Math.random()*600,e=4+Math.floor(Math.random()*2),d=50+Math.random()*70,h=3+Math.random()*2;for(let a=0;a<i;a++){const n=Math.random()*(r-40)+20,s=Math.floor(Math.random()*e),m=l/(e+1)*(s+1)+Math.sin(n/r*Math.PI*h)*d,M=(Math.random()-.5)*50,f=m+M;f>15&&f<l-15&&t.push([n,f])}return t}function z(){const t=[],i=r/2,e=l/2,d=Math.min(r,l)*.45,h=1e3+Math.random()*600,a=7+Math.random()*5;for(let n=0;n<h;n++){const s=n/h,c=s*d,m=s*Math.PI*a+Math.sin(s*Math.PI*5)*1.3,M=(Math.random()-.5)*35,f=i+Math.cos(m)*c+M,g=e+Math.sin(m)*c+M;f>15&&f<r-15&&g>15&&g<l-15&&t.push([f,g])}return t}function F(){const t=[],i=800+Math.random()*600,e=Math.sqrt(r*l/i)*1.1,d=e*(.4+Math.random()*.3);for(let h=50;h<r-50;h+=e)for(let a=50;a<l-50;a+=e){const n=(Math.random()-.5)*d,s=(Math.random()-.5)*d;t.push([h+n,a+s])}return t}const p={r:100,g:200,b:220},v={r:41,g:58,b:78};function $(t,i=1){if(!(t.length<3||!o)){o.clearRect(0,0,r,l);try{if(typeof globalThis.d3<"u"&&globalThis.d3.Delaunay){const d=globalThis.d3.Delaunay.from(t).triangles,h=Math.max(.4,Math.min(.8,250/t.length));o.lineWidth=.6,o.lineCap="round",o.lineJoin="round";for(let a=0;a<d.length;a+=3){const n=t[d[a]],s=t[d[a+1]],c=t[d[a+2]];if(!n||!s||!c)continue;const m=(n[0]+s[0]+c[0])/3,M=(n[1]+s[1]+c[1])/3,f=Math.sqrt(Math.pow(m-r/2,2)+Math.pow(M-l/2,2)),g=Math.sqrt(Math.pow(r/2,2)+Math.pow(l/2,2)),k=1-f/g*.4,B=h*k*i,C=(m/r+M/l)/2,E=Math.floor(p.r+C*(v.r-p.r)),L=Math.floor(p.g+C*(v.g-p.g)),R=Math.floor(p.b+C*(v.b-p.b)),G=B*.5;o.fillStyle=`rgba(${E}, ${L}, ${R}, ${G})`,o.beginPath(),o.moveTo(n[0],n[1]),o.lineTo(s[0],s[1]),o.lineTo(c[0],c[1]),o.closePath(),o.fill(),i>.05&&(o.lineWidth=1,o.strokeStyle=`rgba(${E}, ${L}, ${R}, ${.2})`,o.beginPath(),o.moveTo(n[0],n[1]),o.lineTo(s[0],s[1]),o.lineTo(c[0],c[1]),o.closePath(),o.stroke())}}for(let e of t){const d=Math.sqrt(Math.pow(e[0]-r/2,2)+Math.pow(e[1]-l/2,2)),h=Math.sqrt(Math.pow(r/2,2)+Math.pow(l/2,2)),a=(1-d/h*.3)*.8,n=(e[0]/r+e[1]/l)/2,s=Math.floor(p.r+n*(v.r-p.r)),c=Math.floor(p.g+n*(v.g-p.g)),m=Math.floor(p.b+n*(v.b-p.b));o.fillStyle=`rgba(${s}, ${c}, ${m}, ${.2})`,o.arc(e[0],e[1],8,0,Math.PI*2),o.fill(),o.fillStyle=`rgba(${s}, ${c}, ${m}, ${a})`,o.beginPath(),o.arc(e[0],e[1],2,0,Math.PI*2),o.fill()}}catch(e){console.error("Error drawing triangulation:",e)}}}function W(t,i,e){const d=Math.max(t.length,i.length),h=[];for(let a=0;a<d;a++){let n,s;a<t.length?n=t[a]:n=[r/2,l/2],a<i.length?s=i[a]:s=[r/2,l/2];const c=n[0]+(s[0]-n[0])*e,m=n[1]+(s[1]-n[1])*e;h.push([c,m])}return h}function j(){if(x)return;x=!0;const t=[...w];b=(b+1)%P.length;const i=P[Math.floor(Math.random()*P.length)]();let e=0;const d=3e3,h=Date.now();function a(){const n=Date.now()-h;e=Math.min(n/d,1);const s=1-Math.pow(1-e,3),c=W(t,i,s);$(c,1),e<1?T=requestAnimationFrame(a):(w=i,x=!1)}a()}w=I(),$(w),j();const D=setInterval(j,5e3),X=()=>{D&&clearInterval(D),T&&cancelAnimationFrame(T),window.removeEventListener("resize",y)};if(document.addEventListener("astro:before-swap",X,{once:!0}),typeof globalThis.d3>"u"){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js",t.onload=function(){$(w)},document.head.appendChild(t)}}document.addEventListener("astro:page-load",N);
